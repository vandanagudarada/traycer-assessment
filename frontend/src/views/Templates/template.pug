v-container(fluid)
  v-row.mb-6
    v-col(cols="12")
      h1.text-h3.font-weight-bold.mb-2 Project Templates
      p.text-h6.text-grey Start your planning with pre-built templates
  v-row.mb-4
    v-col(cols="12" md="6")
      v-text-field(
        v-model            = "searchQuery"
        placeholder        = "Search templates..."
        prepend-inner-icon = "mdi-magnify"
        variant            = "outlined"
        density            = "comfortable"
        clearable
        hide-details
      )
    v-col(cols="12" md="6")
      v-select(
        v-model            = "selectedCategory"
        :items             = "categories"
        label              = "Category"
        prepend-inner-icon = "mdi-filter"
        variant            = "outlined"
        density            = "comfortable"
        clearable
        hide-details
      )
  v-row
    v-col(
      v-for = "template in filteredTemplates"
      :key  = "template.id"
      cols  = "12"
      md    = "6"
      lg    = "4"
    )
      v-card.template-card(
        elevation = "3"
        rounded   = "lg"
        @click    = "selectTemplate(template)"
      )
        v-chip.category-chip(size="small" :color="getCategoryColor(template.category)") 
          | {{ template.category }}
        v-card-text.pa-6
          v-icon(size="60" :color="getCategoryColor(template.category)" class="mb-4") 
            | {{ template.icon }}
          h3.text-h5.font-weight-bold.mb-2 {{ template.name }}
          p.text-body-2.text-grey {{ template.description }}
        v-card-actions
          v-spacer
          v-btn(
            color       = "primary"
            variant     = "text"
            text        = "Use Template"
            append-icon = "mdi-arrow-right"
          )
  //- Template Details Dialog
  v-dialog(
    v-model   = "showDialog"
    max-width = "800"
  )
    v-card(v-if="selectedTemplateDetails" rounded="lg")
      v-card-title.text-h5.pa-6
        v-icon.mr-2(
          :color = "getCategoryColor(selectedTemplateDetails.category)"
        )
          | {{ selectedTemplateDetails.icon }}
        | {{ selectedTemplateDetails.name }}
      v-divider
      v-card-text.pa-6
        v-chip.mb-4(
          :color = "getCategoryColor(selectedTemplateDetails.category)"
        )
          | {{ selectedTemplateDetails.category }}
        h4.text-h6.font-weight-medium.mb-2 Description
        p.text-body-1.mb-4 {{ selectedTemplateDetails.description }}
        h4.text-h6.font-weight-medium.mb-2 Requirements
        v-card.pa-4(
          color   = "grey-lighten-4"
          rounded = "lg"
        )
          pre.text-body-2(
            style = "white-space: pre-wrap"
          ) {{ selectedTemplateDetails.requirements }}
      v-divider
      v-card-actions.pa-6
        v-btn(
          variant = "text"
          @click  = "showDialog = false"
          text    = "Cancel"
        )
        v-spacer
        v-btn(
          color        = "primary"
          size         = "large"
          @click       = "useTemplate"
          prepend-icon = "mdi-plus-circle"
          text         = "Create Plan from Template"
        )

